package com.mycompany.bai3chap2;

import java.util.concurrent.*;

public class Bai4Chap3 {

    public static void main(String[] args) {

        CompletableFuture<Void> checkProduct = CompletableFuture.runAsync(() -> {
            sleep(1000);
            System.out.println("âœ” ÄÃ£ kiá»ƒm tra sáº£n pháº©m");
        });

        CompletableFuture<Void> payment = CompletableFuture.runAsync(() -> {
            sleep(1500);
            System.out.println("âœ” Thanh toÃ¡n thÃ nh cÃ´ng");
        });

        CompletableFuture<Void> shipping = CompletableFuture.runAsync(() -> {
            sleep(2000);
            System.out.println("âœ” ÄÃ£ váº­n chuyá»ƒn Ä‘Æ¡n hÃ ng");
        });

        CompletableFuture<Void> allTasks =
                CompletableFuture.allOf(checkProduct, payment, shipping);

        allTasks.thenRun(() ->
                System.out.println("ğŸ‰ ÄÆ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c xá»­ lÃ½ hoÃ n táº¥t!")
        );

        allTasks.join(); // chá» táº¥t cáº£ xong
    }

    private static void sleep(int ms) {
        try {
            Thread.sleep(ms);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
